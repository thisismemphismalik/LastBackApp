#:import TicketBanner components.ticket_banner.ticket_banner.TicketBanner
#:import magnify static.magnify

<Create>
    name: "Create"

    MDFloatLayout:
        size_hint: None, None
        size: Window.size
        pos_hint: {"center_x": .5, "center_y": .5}

        MDBoxLayout:
            id: base
            orientation: "vertical"
            pos_hint: {"center_x": .5, "center_y": .5}
            md_bg_color: 0,0,0,.05

            MDIconButton:
                id: back
                level: 1
                icon: "close-circle-outline"
                pos_hint: {"right": .9}
                user_font_size: 35
                on_release:
                    root.go_back()

<One>
    id: one
    size_hint_x: .8
    pos_hint: {"center_x": .5}
    radius: [25, 25, 0, 0]
    padding: [0, 10]
    spacing: 10
    md_bg_color: 1,1,1,1
    orientation: "vertical"

    MDLabel:
        text: "Create an event"
        adaptive_height: True
        halign: "center"
        font_size: 20

    MDBoxLayout:
        radius: [25, 25, 0, 0]

        MDFloatLayout:
            size_hint: 1, 1

            FitImage:
                text: self.source
                id: image
                source: "./modrian.png"
                radius: [25, 25, 0, 0]
                pos_hint: {"center_x": .5, "center_y": .5}

            MDIconButton:
                on_release: root.choose()
                icon: "pencil"
                pos_hint: {"right": .95, "top": .25}
                md_bg_color: 1,1,1,.5

    MDBoxLayout:
        orientation: "vertical"
        adaptive_height: True

        MDTextField:
            id: name
            text: "EVENT NAME"
            on_text_validate: location.focus = True
            halign: "center"
            on_focus: magnify(self, "EVENT NAME")
            adaptive_height: True

        MDTextField:
            id: location
            text: "EVENT LOCATION"
            halign: "center"
            on_text_validate: about.focus = True
            on_focus: magnify(self, "EVENT LOCATION")
            adaptive_height: True

        MDTextField:
            id: about
            text: "ABOUT EVENT"
            multiline: True
            halign: "center"
            on_focus: magnify(self, "ABOUT EVENT")
            adaptive_height: True


    MDBoxLayout:
        adaptive_size: True
        padding: [0, -25, 0, 0]
        pos_hint: {"center_x": .5}

        MDLabel:
            size_hint_x: None
            width: 90
            halign: "center"
            id: date
            pos_hint: {"center_y": .5}
            adaptive_height: True
            text: "12/12/2022"

        MDIconButton:
            icon: "calendar"
            on_release: root.date()

        MDLabel:
            size_hint_x: None
            width: 50
            halign: "center"
            id: time
            pos_hint: {"center_y": .5}
            adaptive_height: True
            text: "12:12"

        MDIconButton:
            icon: "clock-outline"
            on_release: root.time()

    MDBoxLayout:
        padding: [0, -5, 0, 0]
        adaptive_width: True
        size_hint_y: None
        height: 10
        spacing: 25
        pos_hint: {"center_x": .5}

        MDTextButton:
            size_hint_x: None
            width: len(self.text)*8
            id: color
            text: "Color >"
            on_release: root.color()
            pos_hint: {"center_y": .5}

        MDTextButton:
            size_hint_x: None
            width: len(self.text)*9
            id: category
            text: "Category >"
            on_release: root.category()
            pos_hint: {"center_y": .5}

    MDBoxLayout:
        adaptive_size: True
        padding: [10]
        md_bg_color: 0,0,0,.1
        pos_hint: {"center_x": .5}

        MDTextButton:
            text: "VALIDATE"
            bold: True
            halign: "center"
            on_release: root.validate(name, image, color, category, about, location, date, time)

<Two>
    id: two
    size_hint_x: .8
    pos_hint: {"center_x": .5}
    radius: [25, 25, 0, 0]
    padding: [0, 10]
    spacing: 15
    md_bg_color: 1,1,1,1
    orientation: "vertical"

    MDLabel:
        id: ticket_id
        text: "id"
        adaptive_height: True
        font_size: 25
        halign: "center"
        opacity: .7

    MDIconButton:
        icon: "plus-circle-outline"
        user_font_size: 35
        pos_hint: {"center_x": .5}
        theme_text_color: "Custom"
        text_color: 0,0,1,.5
        on_release: root.open()

    MDFloatLayout:
        size_hint_y: None
        height: 240
#        md_bg_color: 1,0,0,.3

        MDBoxLayout:
            id: table
            orientation: "vertical"
            adaptive_height: True
            pos_hint: {"center_x": .5, "top": 1}

    MDBoxLayout:
        adaptive_size: True
        padding: [10]
        md_bg_color: 0,0,0,.1
        pos_hint: {"center_x": .5}

        MDTextButton:
            text: "VALIDATE"
            bold: True
            on_release: root.validate()

    Widget:

<Three>
    id: three
    size_hint_x: .8
    pos_hint: {"center_x": .5}
    radius: [25, 25, 0, 0]
#    padding: [0, 10]
#    spacing: 15
    md_bg_color: 1,1,1,1
    orientation: "vertical"

    ScrollView:
        bar_width: 0

        MDBoxLayout:
            adaptive_height: True
            orientation: "vertical"
            radius: [25, 25, 0, 0]

            FitImage:
                radius: [25, 25, 0, 0]
                source: "./modrian.png"
                size_hint_y: None
                height: 150

            MDSeparator:

            MDBoxLayout:
                adaptive_height: True
                padding: [0, 10]

                MDLabel:
                    adaptive_height: True
                    text: "Concert Roi 12 12".upper()
                    bold: True
                    halign: "center"

            MDSeparator:

            MDBoxLayout:
                adaptive_height: True

                MDFloatLayout:
                    size_hint_y: None
                    height: 25
                    padding: [0, 5]

                    MDLabel:
                        pos_hint: {"center_x": .5, "center_y": .5}
                        adaptive_height: True
                        halign: "center"
                        text: "Concert"

                MDSeparator:
                    orientation: "vertical"

                MDFloatLayout:
                    size_hint_y: None
                    height: 25
                    padding: [0, 5]

                    MDLabel:
                        pos_hint: {"center_x": .5, "center_y": .5}
                        adaptive_height: True
                        halign: "center"
                        text: "Bamada City"

            MDSeparator:

            MDBoxLayout:
                adaptive_height: True

                MDFloatLayout:
                    size_hint_y: None
                    height: 25
                    padding: [0, 5]

                    MDLabel:
                        pos_hint: {"center_x": .5, "center_y": .5}
                        adaptive_height: True
                        halign: "center"
                        text: "16/08/2022"

                MDSeparator:
                    orientation: "vertical"

                MDFloatLayout:
                    size_hint_y: None
                    height: 25
                    padding: [0, 5]

                    MDLabel:
                        pos_hint: {"center_x": .5, "center_y": .5}
                        adaptive_height: True
                        halign: "center"
                        text: "20:45"

                MDSeparator:
                    orientation: "vertical"

                MDBoxLayout:
        #            adaptive_size: True
                    size_hint: None, None
                    size: 25, 25
                    padding: [0, 5]

                    Widget:
                        pos_hint: {"center_x": .5, "center_y": .5}
                        canvas:
                            Color:
                                rgba: 1,0,0,1

                            RoundedRectangle:
                                size: 20, 20
                                radius: [5]
                                pos: self.center[0] - 10, self.center[1] - 10

            MDSeparator:

            MDBoxLayout:
                adaptive_height: True
                padding: [10]

                MDLabel:
                    adaptive_height: True
                    halign: "center"
                    text: "bla\nbla\nbla"

            MDSeparator:
            MDBoxLayout:
                id: tickets
                adaptive_height: True
                orientation: "vertical"

                MDBoxLayout:
                    adaptive_height: True
                    padding: [10]

                    MDLabel:
                        adaptive_height: True
                        halign: "center"
                        text: "TICKETS"

                MDSeparator:

            MDFloatLayout:
                size_hint: 1, None
                height: 75

                MDBoxLayout:
                    adaptive_size: True
                    padding: [10]
                    md_bg_color: 0,0,0,.1
                    pos_hint: {"center_x": .5, "center_y": .5}

                    MDTextButton:
                        text: "VALIDATE"
                        bold: True
                        on_release: print(0)
            Widget:

<Content>
    orientation: "vertical"
#    md_bg_color: 1,0,1,.3
    padding: [0, -20, 0, 0]
    spacing: -10
    size_hint_y: None
    height: 200

    MDTextField:
        id: quantity
        text: "Quantity"
        halign: "center"
        on_focus: magnify(self, "Quantity")
        on_text_validate: type.focus = True

    MDTextField:
        id: type
        text: "Type"
        halign: "center"
        on_focus: magnify(self, "Type")
        on_text_validate: price.focus = True

    MDTextField:
        id: price
        text: "Price"
        halign: "center"
        on_focus: magnify(self, "Price")
        on_text_validate: advantage.focus = True

    MDTextField:
        id: advantage
        text: "Advantage"
        halign: "center"
        on_focus: magnify(self, "Advantage")
        on_text_validate: root.add_ticket(quantity,type,price,advantage)

    MDFloatLayout:
        size_hint_y: None
        height: 50
#        md_bg_color: 1,0,0,.3

        MDFlatButton:
            text: "VALIDATE"
            bold: True
            font_size: 20
            pos_hint: {"center_x": .75, "center_y": .5}
            on_release: root.add_ticket(quantity,type,price,advantage)

    Widget:
